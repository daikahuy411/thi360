(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[33],{393:function(e,t,a){"use strict";var n=a(14),c=a(12),r=a(166),l=a(85),s=a.n(l),o=Object(n.a)((function e(t){var a=this;Object(c.a)(this,e),this.baseApiUrl=void 0,this.get=function(e){var t="".concat(a.baseApiUrl,"/").concat(e);return s.a.get(t)},this.getAll=function(e){var t="".concat(a.baseApiUrl);return s.a.get(t)},this.searches=function(e){var t="".concat(a.baseApiUrl,"/searches");return e||(e={limit:50,start:0}),s.a.post(t,e)},this.save=function(e){return e.id>0?a.put(e):a.post(e)},this.post=function(e){var t="".concat(a.baseApiUrl);return s.a.post(t,e)},this.put=function(e){var t="".concat(a.baseApiUrl,"/").concat(e.id);return s.a.put(t,e)},this.delete=function(e){var t="".concat(a.baseApiUrl);return s.a.delete("".concat(t,"/").concat(e.id))},this.baseApiUrl=r.a.baseApiEndpoint+t}));t.a=o},407:function(e,t,a){"use strict";var n=a(3),c=a(5),r=a(13),l=a(2),s=a(12),o=a(14),i=a(17),b=a(18),d=a(0),u=a.n(d),j=a(7),h=a.n(j),f=function(e){Object(i.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.props,a=t.disabled,c=t.onChange;a||("checked"in n.props||n.setState({checked:e.target.checked}),c&&c({target:Object(l.a)(Object(l.a)({},n.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},n.saveInput=function(e){n.input=e};var c="checked"in e?e.checked:e.defaultChecked;return n.state={checked:c},n}return Object(o.a)(a,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,l=t.className,s=t.style,o=t.name,i=t.id,b=t.type,d=t.disabled,j=t.readOnly,f=t.tabIndex,p=t.onClick,O=t.onFocus,m=t.onBlur,v=t.onKeyDown,x=t.onKeyPress,y=t.onKeyUp,g=t.autoFocus,C=t.value,N=t.required,k=Object(r.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),S=Object.keys(k).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=k[t]),e}),{}),E=this.state.checked,w=h()(a,l,(e={},Object(c.a)(e,"".concat(a,"-checked"),E),Object(c.a)(e,"".concat(a,"-disabled"),d),e));return u.a.createElement("span",{className:w,style:s},u.a.createElement("input",Object(n.a)({name:o,id:i,type:b,required:N,readOnly:j,disabled:d,tabIndex:f,className:"".concat(a,"-input"),checked:!!E,onClick:p,onFocus:O,onBlur:m,onKeyUp:y,onKeyDown:v,onKeyPress:x,onChange:this.handleChange,autoFocus:g,ref:this.saveInput,value:C},S)),u.a.createElement("span",{className:"".concat(a,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(l.a)(Object(l.a)({},t),{},{checked:e.checked}):null}}]),a}(d.Component);f.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.a=f},410:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(14),c=a(12),r=a(17),l=a(18),s=a(393),o=a(85),i=a.n(o),b=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this,"users")).save=function(t){if(void 0===t.id||"0"==t.id){var a="".concat(e.baseApiUrl);return i.a.post(a,t)}var n="".concat(e.baseApiUrl);return i.a.put(n,t)},e.getUserProfile=function(t){return i.a.get(e.baseApiUrl+"/userprofile/"+t)},e.getUserRoleScopes=function(){return i.a.get(e.baseApiUrl+"/userrolecopes")},e.importFile=function(t){return i.a.post(e.baseApiUrl+"/import",{fileUrl:t})},e}return Object(n.a)(a)}(s.a)},530:function(e,t,a){"use strict";var n=a(5),c=a(3),r=a(0),l=a(407),s=a(7),o=a.n(s),i=a(35),b=a(65),d=r.createContext(null),u=d.Provider,j=d,h=a(40),f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},p=function(e,t){var a,s=r.useContext(j),d=r.useContext(b.b),u=d.getPrefixCls,p=d.direction,O=r.useRef(),m=Object(i.a)(t,O);r.useEffect((function(){Object(h.a)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var v=e.prefixCls,x=e.className,y=e.children,g=e.style,C=f(e,["prefixCls","className","children","style"]),N=u("radio",v),k=Object(c.a)({},C);s&&(k.name=s.name,k.onChange=function(t){var a,n;null===(a=e.onChange)||void 0===a||a.call(e,t),null===(n=null===s||void 0===s?void 0:s.onChange)||void 0===n||n.call(s,t)},k.checked=e.value===s.value,k.disabled=e.disabled||s.disabled);var S=o()("".concat(N,"-wrapper"),(a={},Object(n.a)(a,"".concat(N,"-wrapper-checked"),k.checked),Object(n.a)(a,"".concat(N,"-wrapper-disabled"),k.disabled),Object(n.a)(a,"".concat(N,"-wrapper-rtl"),"rtl"===p),a),x);return r.createElement("label",{className:S,style:g,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},r.createElement(l.a,Object(c.a)({},k,{type:"radio",prefixCls:N,ref:m})),void 0!==y?r.createElement("span",null,y):null)},O=r.forwardRef(p);O.displayName="Radio";var m=O,v=a(6),x=a(51),y=a(52);var g=r.forwardRef((function(e,t){var a=r.useContext(b.b),l=a.getPrefixCls,s=a.direction,i=r.useContext(y.b),d=Object(x.a)(e.defaultValue,{value:e.value}),j=Object(v.a)(d,2),h=j[0],f=j[1];return r.createElement(u,{value:{onChange:function(t){var a=h,n=t.target.value;"value"in e||f(n);var c=e.onChange;c&&n!==a&&c(t)},value:h,disabled:e.disabled,name:e.name}},function(){var a,b=e.prefixCls,d=e.className,u=void 0===d?"":d,j=e.options,f=e.optionType,p=e.buttonStyle,O=void 0===p?"outline":p,v=e.disabled,x=e.children,y=e.size,g=e.style,C=e.id,N=e.onMouseEnter,k=e.onMouseLeave,S=l("radio",b),E="".concat(S,"-group"),w=x;if(j&&j.length>0){var A="button"===f?"".concat(S,"-button"):S;w=j.map((function(e){return"string"===typeof e?r.createElement(m,{key:e,prefixCls:A,disabled:v,value:e,checked:h===e},e):r.createElement(m,{key:"radio-group-value-options-".concat(e.value),prefixCls:A,disabled:e.disabled||v,value:e.value,checked:h===e.value,style:e.style},e.label)}))}var U=y||i,I=o()(E,"".concat(E,"-").concat(O),(a={},Object(n.a)(a,"".concat(E,"-").concat(U),U),Object(n.a)(a,"".concat(E,"-rtl"),"rtl"===s),a),u);return r.createElement("div",Object(c.a)({},function(e){return Object.keys(e).reduce((function(t,a){return"data-"!==a.substr(0,5)&&"aria-"!==a.substr(0,5)&&"role"!==a||"data-__"===a.substr(0,7)||(t[a]=e[a]),t}),{})}(e),{className:I,style:g,onMouseEnter:N,onMouseLeave:k,id:C,ref:t}),w)}())})),C=r.memo(g),N=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},k=function(e,t){var a=r.useContext(j),n=r.useContext(b.b).getPrefixCls,l=e.prefixCls,s=N(e,["prefixCls"]),o=n("radio-button",l);return a&&(s.checked=e.value===a.value,s.disabled=e.disabled||a.disabled),r.createElement(m,Object(c.a)({prefixCls:o},s,{type:"radio",ref:t}))},S=r.forwardRef(k),E=m;E.Button=S,E.Group=C;t.a=E},531:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(5),c=a(6),r=a(25),l=a(0),s=a(7),o=a.n(s),i=a(41),b=a(112),d=a(40),u=a(65),j=a(3);function h(e){return void 0!==e&&null!==e}var f=function(e){var t,a=e.itemPrefixCls,c=e.component,r=e.span,s=e.className,i=e.style,b=e.labelStyle,d=e.contentStyle,u=e.bordered,j=e.label,f=e.content,p=e.colon,O=c;return u?l.createElement(O,{className:o()((t={},Object(n.a)(t,"".concat(a,"-item-label"),h(j)),Object(n.a)(t,"".concat(a,"-item-content"),h(f)),t),s),style:i,colSpan:r},h(j)&&l.createElement("span",{style:b},j),h(f)&&l.createElement("span",{style:d},f)):l.createElement(O,{className:o()("".concat(a,"-item"),s),style:i,colSpan:r},l.createElement("div",{className:"".concat(a,"-item-container")},j&&l.createElement("span",{className:o()("".concat(a,"-item-label"),Object(n.a)({},"".concat(a,"-item-no-colon"),!p)),style:b},j),f&&l.createElement("span",{className:o()("".concat(a,"-item-content")),style:d},f)))};function p(e,t,a){var n=t.colon,c=t.prefixCls,r=t.bordered,s=a.component,o=a.type,i=a.showLabel,b=a.showContent,d=a.labelStyle,u=a.contentStyle;return e.map((function(e,t){var a=e.props,h=a.label,p=a.children,O=a.prefixCls,m=void 0===O?c:O,v=a.className,x=a.style,y=a.labelStyle,g=a.contentStyle,C=a.span,N=void 0===C?1:C,k=e.key;return"string"===typeof s?l.createElement(f,{key:"".concat(o,"-").concat(k||t),className:v,style:x,labelStyle:Object(j.a)(Object(j.a)({},d),y),contentStyle:Object(j.a)(Object(j.a)({},u),g),span:N,colon:n,component:s,itemPrefixCls:m,bordered:r,label:i?h:null,content:b?p:null}):[l.createElement(f,{key:"label-".concat(k||t),className:v,style:Object(j.a)(Object(j.a)(Object(j.a)({},d),x),y),span:1,colon:n,component:s[0],itemPrefixCls:m,bordered:r,label:h}),l.createElement(f,{key:"content-".concat(k||t),className:v,style:Object(j.a)(Object(j.a)(Object(j.a)({},u),x),g),span:2*N-1,component:s[1],itemPrefixCls:m,bordered:r,content:p})]}))}var O=function(e){var t=l.useContext(x),a=e.prefixCls,n=e.vertical,c=e.row,r=e.index,s=e.bordered;return n?l.createElement(l.Fragment,null,l.createElement("tr",{key:"label-".concat(r),className:"".concat(a,"-row")},p(c,e,Object(j.a)({component:"th",type:"label",showLabel:!0},t))),l.createElement("tr",{key:"content-".concat(r),className:"".concat(a,"-row")},p(c,e,Object(j.a)({component:"td",type:"content",showContent:!0},t)))):l.createElement("tr",{key:r,className:"".concat(a,"-row")},p(c,e,Object(j.a)({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},m=function(e){return e.children},v=a(22),x=l.createContext({}),y={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function g(e,t,a){var n=e;return(void 0===t||t>a)&&(n=Object(v.a)(e,{span:a}),Object(d.a)(void 0===t,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),n}function C(e){var t,a=e.prefixCls,s=e.title,d=e.extra,j=e.column,h=void 0===j?y:j,f=e.colon,p=void 0===f||f,m=e.bordered,v=e.layout,C=e.children,N=e.className,k=e.style,S=e.size,E=e.labelStyle,w=e.contentStyle,A=l.useContext(u.b),U=A.getPrefixCls,I=A.direction,P=U("descriptions",a),z=l.useState({}),D=Object(c.a)(z,2),M=D[0],R=D[1],W=function(e,t){if("number"===typeof e)return e;if("object"===Object(r.a)(e))for(var a=0;a<b.b.length;a++){var n=b.b[a];if(t[n]&&void 0!==e[n])return e[n]||y[n]}return 3}(h,M);l.useEffect((function(){var e=b.a.subscribe((function(e){"object"===Object(r.a)(h)&&R(e)}));return function(){b.a.unsubscribe(e)}}),[]);var L=function(e,t){var a=Object(i.a)(e).filter((function(e){return e})),n=[],c=[],r=t;return a.forEach((function(e,l){var s,o=null===(s=e.props)||void 0===s?void 0:s.span,i=o||1;if(l===a.length-1)return c.push(g(e,o,r)),void n.push(c);i<r?(r-=i,c.push(e)):(c.push(g(e,i,r)),n.push(c),r=t,c=[])})),n}(C,W),T=l.useMemo((function(){return{labelStyle:E,contentStyle:w}}),[E,w]);return l.createElement(x.Provider,{value:T},l.createElement("div",{className:o()(P,(t={},Object(n.a)(t,"".concat(P,"-").concat(S),S&&"default"!==S),Object(n.a)(t,"".concat(P,"-bordered"),!!m),Object(n.a)(t,"".concat(P,"-rtl"),"rtl"===I),t),N),style:k},(s||d)&&l.createElement("div",{className:"".concat(P,"-header")},s&&l.createElement("div",{className:"".concat(P,"-title")},s),d&&l.createElement("div",{className:"".concat(P,"-extra")},d)),l.createElement("div",{className:"".concat(P,"-view")},l.createElement("table",null,l.createElement("tbody",null,L.map((function(e,t){return l.createElement(O,{key:t,index:t,colon:p,prefixCls:P,vertical:"vertical"===v,bordered:m,row:e})})))))))}C.Item=m;t.b=C},555:function(e,t,a){"use strict";var n=a(2),c=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},l=a(9),s=function(e,t){return c.createElement(l.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))};s.displayName="SendOutlined";t.a=c.forwardRef(s)},589:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(37),r=a(6),l=a(98),s=a(592),o=a(549),i=a(550),b=a(531),d=a(389),u=a(14),j=a(12),h=a(17),f=a(18),p=a(85),O=a.n(p),m=function(e){Object(h.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(j.a)(this,a),(e=t.call(this,"attendances")).getDashboard=function(){var t="".concat(e.baseApiUrl,"/AttendanceDashboard");return O.a.get(t)},e.getCurrentAttendances=function(t){var a="".concat(e.baseApiUrl,"/GetCurrentAttendances/").concat(t);return O.a.get(a)},e.getAttendance=function(t){var a="".concat(e.baseApiUrl,"/GetAttendance/").concat(t,"/0");return O.a.get(a)},e.saveAttendance=function(t){var a="".concat(e.baseApiUrl);return O.a.put(a,t)},e}return Object(u.a)(a)}(a(393).a),v=a(2),x=a(366),y=a(226),g=a(369),C=a(576),N=a(530),k=a(207),S=a(555),E=a(4),w=(x.a.TextArea,function(e){var t=Object(n.useState)(null),a=Object(r.a)(t,2),c=a[0],d=a[1],u=Object(n.useState)(!1),j=Object(r.a)(u,2),h=j[0],f=j[1],p=Object(n.useState)({}),O=Object(r.a)(p,2),x=O[0],w=O[1],A=Object(n.useState)([]),U=Object(r.a)(A,2),I=(U[0],U[1],Object(n.useState)([])),P=Object(r.a)(I,2),z=(P[0],P[1],Object(n.useState)([])),D=Object(r.a)(z,2),M=(D[0],D[1],Object(n.useState)(0)),R=Object(r.a)(M,2),W=R[0],L=R[1],T=Object(n.useState)(0),F=Object(r.a)(T,2),K=F[0],B=F[1],q=Object(n.useState)(0),Y=Object(r.a)(q,2),H=Y[0],G=Y[1];Object(n.useEffect)((function(){V(x)}),[x]),Object(n.useEffect)((function(){J(e.classId)}),[e.classId]);var J=function(e){(new m).getAttendance(e).then((function(e){if(0==e.data.id){var t={};e.data.userAttendances.map((function(e){t[e.id]=0})),w(t)}else{var a={};e.data.absentUsers.map((function(e){a[e]=2})),e.data.presentUsers.map((function(e){a[e]=1})),w(a)}d(e.data)}))},V=function(e){var t=0,a=0;Object.keys(e).map((function(n){1===e[n]?a++:2===e[n]&&t++})),B(t),L(0),G(a)};return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(g.a,{title:"\u0110i\u1ec3m danh ",width:820,onClose:e.onClose,visible:!0,bodyStyle:{paddingBottom:0},footer:Object(E.jsxs)("div",{style:{textAlign:"right"},children:[Object(E.jsxs)(l.a,{onClick:function(){var e=x;Object.keys(e).map((function(t){e[t]=1})),w(Object(v.a)({},e))},style:{marginRight:8},type:"primary",color:"primary",children:[Object(E.jsx)(k.a,{}),"\xa0 L\u1edbp h\u1ecdc \u0111\u1ee7"]}),"\xa0",Object(E.jsxs)(l.a,{onClick:function(){if(K+H+W<c.class.totalUser)y.b.error("B\u1ea1n ch\u01b0a c\u1eadp nh\u1eadt to\xe0n b\u1ed9 tr\u1ea1ng th\xe1i c\u1ee7a h\u1ecdc sinh.");else{f(!0);var t=Object(v.a)({},c),a=0,n=[],r=[];Object.keys(x).map((function(e){1===x[e]?(n.push(e)):(a++,r.push(e))})),t.lateUserIds="",t.presentUserIds=n.join(";"),t.absentUserIds=r.join(";"),t.totalAbsent=a,t.totalLate=0,t.totalPresent=H,(new m).saveAttendance(t).then((function(t){y.b.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng."),e.onClose&&e.onClose(!0)}))}},style:{marginRight:8},type:"primary",color:"primary",loading:h,children:[Object(E.jsx)(S.a,{}),"\xa0 C\u1eadp nh\u1eadt"]})]}),children:c&&Object(E.jsxs)(C.a,{layout:"vertical",hideRequiredMark:!0,children:[Object(E.jsx)(o.a,{children:Object(E.jsx)(i.a,{span:24,children:Object(E.jsxs)(b.b,{bordered:!0,children:[Object(E.jsx)(b.b.Item,{label:"L\u1edbp h\u1ecdc",span:3,children:c.class.name}),Object(E.jsx)(b.b.Item,{label:"Ch\u01b0a \u0111i\u1ec3m danh",children:Object(E.jsx)("b",{style:{color:"rgb(255, 77, 79)",fontWeight:"bold",fontSize:18},children:K})}),Object(E.jsx)(b.b.Item,{label:"\u0110\xe3 \u0111i\u1ec3m danh",children:Object(E.jsx)("b",{style:{color:"rgb(82, 196, 26)",fontWeight:"bold",fontSize:18},children:H})}),Object(E.jsx)(b.b.Item,{label:"T\u1ed5ng s\u1ed1 h\u1ecdc sinh",children:Object(E.jsx)("b",{style:{color:"#000",fontWeight:"bold",fontSize:18},children:c.class.totalUser})})]})})}),Object(E.jsx)(o.a,{children:Object(E.jsxs)(i.a,{span:24,children:[Object(E.jsx)("br",{}),Object(E.jsx)(s.a,{bodyStyle:{padding:0},children:Object(E.jsx)("div",{className:"table-responsive",children:Object(E.jsx)("div",{className:"ant-table",children:Object(E.jsx)("div",{className:"ant-table-container",children:Object(E.jsx)("div",{className:"ant-table-content",children:Object(E.jsxs)("table",{children:[Object(E.jsx)("thead",{className:"ant-table-thead",children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("th",{className:"ant-table-cell",style:{width:25},children:"#"}),Object(E.jsx)("th",{className:"ant-table-cell",children:"H\u1ecdc sinh"}),Object(E.jsx)("th",{className:"ant-table-cell",style:{width:180},children:"Tr\u1ea1ng th\xe1i"})]})}),Object(E.jsx)("tbody",{className:"ant-table-tbody",children:c.userAttendances.map((function(e,t){var a;return Object(E.jsxs)("tr",{className:"ant-table-row ant-table-row-level-0",children:[Object(E.jsx)("td",{className:"ant-table-cell ",style:{width:25},children:t+1}),Object(E.jsxs)("td",{className:"ant-table-cell ",children:[e.userName,Object(E.jsx)("br",{}),e.fullName]}),Object(E.jsx)("td",{className:"ant-table-cell ",children:Object(E.jsxs)(N.a.Group,{value:null!==(a=x[e.id])&&void 0!==a?a:0,onChange:function(t){!function(e,t){var a=x;a[e]=t,w(Object(v.a)({},a))}(e.id,t.target.value)},size:"small",buttonStyle:"solid",children:[Object(E.jsx)(N.a.Button,{value:1,children:"C\xf3 m\u1eb7t"}),Object(E.jsx)(N.a.Button,{value:2,children:"V\u1eafng m\u1eb7t"})]},"radion-status-".concat(e.id))})]},"tr-administrator-".concat(e.id))}))})]})})})})})})]})})]})})})}),A=a(396),U=a.n(A),I=a(410),P=a(72),z=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],u=Object(n.useState)(null),j=Object(r.a)(u,2),h=j[0],f=j[1],p=Object(n.useState)(0),O=Object(r.a)(p,2),v=O[0],x=O[1],y=Object(n.useState)(!1),g=Object(r.a)(y,2),C=g[0],N=g[1],k=Object(n.useState)(null),S=Object(r.a)(k,2),A=S[0],z=S[1],D=function(){(new m).getCurrentAttendances(0).then((function(e){f(e.data)})),(new m).getDashboard().then((function(e){c(e.data)}))};Object(n.useEffect)((function(){D(),(new I.a).getUserRoleScopes().then((function(e){z(e.data)}))}),[]),Object(n.useEffect)((function(){var e=setInterval((function(){D()}),5e3);return function(){return clearInterval(e)}}),[]);var M=function(e){return Object(E.jsx)(E.Fragment,{children:A&&A.length>0&&A.filter((function(t){return(t.roleName===P.b.TEACHER||t.roleName===P.b.SUBJECTTEACHER)&&t.organizationId==e})).length>0&&Object(E.jsx)(l.a,{size:"sm",onClick:function(){!function(e){x(e),N(!0)}(e)},shape:"circle",icon:Object(E.jsx)(d.a,{})})})};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(s.a,{title:"T\u1ed5ng quan \u0110i\u1ec3m danh",children:[a&&Object(E.jsx)(o.a,{gutter:16,children:Object(E.jsxs)(i.a,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,children:[Object(E.jsxs)(b.b,{bordered:!0,children:[Object(E.jsx)(b.b.Item,{span:2,label:"Th\u1eddi gian",children:U()(a.time).format("DD-MM-YYYY")}),Object(E.jsx)(b.b.Item,{label:"T\u1ed5ng s\u1ed1 h\u1ecdc sinh",children:Object(E.jsx)("b",{style:{color:"#000",fontWeight:"bold",fontSize:18},children:a.totalUsers})}),Object(E.jsx)(b.b.Item,{label:"Ch\u01b0a \u0111i\u1ec3m danh",children:Object(E.jsx)("b",{style:{color:"rgb(255, 77, 79)",fontWeight:"bold",fontSize:18},children:a.totalAbsent})}),Object(E.jsx)(b.b.Item,{label:"\u0110\xe3 \u0111i\u1ec3m danh",children:Object(E.jsx)("b",{style:{color:"rgb(82, 196, 26)",fontWeight:"bold",fontSize:18},children:a.totalPresent})}),Object(E.jsx)(b.b.Item,{label:"Hs b\xe1n tr\xfa \u0111\xe3 \u0111i\u1ec3m danh",children:Object(E.jsx)("b",{style:{color:"rgb(82, 196, 26)",fontWeight:"bold",fontSize:18},children:a.totalDayBoardingPresent})}),Object(E.jsx)(b.b.Item,{label:"L\u1edbp \u0111\xe3 b\xe1o c\xe1o",children:Object(E.jsx)("b",{style:{color:"#000",fontWeight:"bold",fontSize:18},children:a.totalRecord})}),Object(E.jsx)(b.b.Item,{label:"T\u1ed5ng s\u1ed1 l\u1edbp",children:Object(E.jsx)("b",{style:{color:"#000",fontWeight:"bold",fontSize:18},children:a.totalClasses})}),Object(E.jsx)(b.b.Item,{label:"C\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t",children:U()(a.now).format("DD-MM-YYYY HH:mm:ss")})]}),Object(E.jsx)("br",{})]})}),Object(E.jsx)(o.a,{gutter:16,children:h&&Object(E.jsx)(i.a,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,children:Object(E.jsx)("div",{className:"table-responsive",style:{width:"100%"},children:Object(E.jsx)("div",{className:"ant-table ant-table-bordered",children:Object(E.jsx)("div",{className:"ant-table-container",children:Object(E.jsx)("div",{className:"ant-table-content",children:Object(E.jsxs)("table",{style:{width:"100%"},children:[Object(E.jsx)("thead",{className:"ant-table-thead",children:Object(E.jsx)("tr",{children:h.map((function(e){return Object(E.jsx)("th",{className:"ant-table-cell",style:{width:"10%",textAlign:"center",backgroundColor:"#fafafa"},children:Object(E.jsxs)("b",{children:["  KH\u1ed0I ",e.group]})},"group-attendance-".concat(e.group))}))})}),Object(E.jsx)("tbody",{className:"ant-table-tbody",children:Object(E.jsx)("tr",{children:h.map((function(e){return Object(E.jsx)("td",{className:"ant-table-cell",style:{width:"10%",verticalAlign:"top"},children:e.attendances.map((function(e){return Object(E.jsx)(s.a,{title:e.class.name,extra:M(e.classId),children:Object(E.jsx)("table",{children:Object(E.jsx)("tbody",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"ant-avatar ant-avatar-md ant-avatar-square",style:{backgroundColor:"#ff4d4f"},children:Object(E.jsx)("span",{className:"ant-avatar-string",style:{fontWeight:"bold",fontSize:18,left:"10%"},children:e.totalAbsent})})}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"ant-avatar ant-avatar-md ant-avatar-square",style:{backgroundColor:"#52c41a"},children:Object(E.jsx)("span",{className:"ant-avatar-string",style:{fontWeight:"bold",fontSize:18,left:"10%"},children:e.totalPresent})})}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"ant-avatar ant-avatar-md ant-avatar-square",style:{backgroundColor:"#ccc"},children:Object(E.jsx)("span",{className:"ant-avatar-string",style:{color:"#000",fontWeight:"bold",fontSize:18,left:"10%"},children:e.totalUser})})})]})})})},"class-overview-".concat(e.classId))}))},"classes-attendance-".concat(e.group))}))})}),Object(E.jsx)("tfoot",{className:"ant-table-summary",children:Object(E.jsx)("tr",{children:h.map((function(e){return Object(E.jsx)("td",{className:"ant-table-cell",children:Object(E.jsx)(s.a,{title:"T\u1ed5ng s\u1ed1",children:Object(E.jsx)("table",{children:Object(E.jsx)("tbody",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"ant-avatar ant-avatar-md ant-avatar-square",style:{backgroundColor:"#ff4d4f"},children:Object(E.jsx)("span",{className:"ant-avatar-string",style:{fontWeight:"bold",fontSize:18,left:"10%"},children:e.totalAbsent})})}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"ant-avatar ant-avatar-md ant-avatar-square",style:{backgroundColor:"#52c41a"},children:Object(E.jsx)("span",{className:"ant-avatar-string",style:{fontWeight:"bold",fontSize:18,left:"10%"},children:e.totalPresent})})}),Object(E.jsx)("td",{children:Object(E.jsx)("span",{className:"ant-avatar ant-avatar-md ant-avatar-square",style:{backgroundColor:"#ccc"},children:Object(E.jsx)("span",{className:"ant-avatar-string",style:{color:"#000",fontWeight:"bold",fontSize:18,left:"10%"},children:e.totalUser})})})]})})})},"class-total-".concat(e.group))},"class-total-td-".concat(e.group))}))})})]})})})})})})})]}),C&&v>0&&Object(E.jsx)(w,{classId:v,onClose:function(e){x(0),N(!1),D()}})]})};t.default=function(e){var t=e.match;return Object(E.jsxs)(c.d,{children:[Object(E.jsx)(c.a,{exact:!0,from:"".concat(t.url),to:"".concat(t.url,"/dashboard")}),Object(E.jsx)(c.b,{path:"".concat(t.url,"/dashboard"),component:z}),Object(E.jsx)(c.b,{path:"".concat(t.url,"/edit/:id/:tab?"),component:w})]})}}}]);
//# sourceMappingURL=33.f2a7d9d9.chunk.js.map